--[[
Lirabay UI Roblox - Full Feature Mobile Ready
50% Fluent UI style, 50% Custom
Place this LocalScript inside a ScreenGui named "LirabayUI"
]]
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local gui = player:WaitForChild("PlayerGui"):WaitForChild("LirabayUI")

-- =========================
-- Intro Setup
-- =========================
local intro = gui:WaitForChild("IntroFrame")
local logo = intro:WaitForChild("Logo")
local dots = intro:WaitForChild("Dots") -- optional TextLabel "..."
intro.Visible = true
logo.Position = UDim2.fromScale(0.5,0.6)
logo.TextTransparency = 1

-- Fade in logo
TweenService:Create(logo, TweenInfo.new(1.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    {TextTransparency = 0, Position = UDim2.fromScale(0.5,0.4)}):Play()

-- Simple loading dots animation
spawn(function()
    local count = 0
    while intro.Visible do
        count = (count % 3) + 1
        dots.Text = string.rep(".", count)
        wait(0.5)
    end
end)

-- Wait and hide intro
wait(3)
intro.Visible = false
local mainFrame = gui:WaitForChild("MainFrame")
mainFrame.Visible = true

-- =========================
-- Tabs Setup
-- =========================
local tabs = {
    Dashboard = mainFrame:WaitForChild("DashboardTab"),
    Scripts = mainFrame:WaitForChild("ScriptsTab"),
    Explorer = mainFrame:WaitForChild("ExplorerTab")
}

local buttons = {
    DashboardBtn = mainFrame.Sidebar:WaitForChild("DashboardBtn"),
    ScriptsBtn = mainFrame.Sidebar:WaitForChild("ScriptsBtn"),
    ExplorerBtn = mainFrame.Sidebar:WaitForChild("ExplorerBtn")
}

local function hideAllTabs()
    for _, frame in pairs(tabs) do frame.Visible = false end
end

-- Tab switching with touch effect & Fluent style
for name, btn in pairs(buttons) do
    btn.MouseButton1Click:Connect(function()
        hideAllTabs()
        tabs[name].Visible = true
        
        -- Touch effect: Fluent blue flash
        local originalColor = btn.BackgroundColor3
        btn.BackgroundColor3 = Color3.fromRGB(0, 120, 212)
        wait(0.15)
        btn.BackgroundColor3 = originalColor
    end)
end

-- =========================
-- Modal Popup
-- =========================
local modal = gui:WaitForChild("ModalFrame")
modal.Visible = false
modal.BackgroundTransparency = 1

local function showModal(title,msg)
    modal.Visible = true
    modal.Title.Text = title
    modal.Message.Text = msg
    TweenService:Create(modal, TweenInfo.new(0.5), {BackgroundTransparency=0}):Play()
end
local function closeModal()
    TweenService:Create(modal, TweenInfo.new(0.5), {BackgroundTransparency=1}):Play()
    wait(0.5)
    modal.Visible = false
end
modal.CloseBtn.MouseButton1Click:Connect(closeModal)

-- =========================
-- Toast Notification
-- =========================
local toastTemplate = gui:WaitForChild("ToastFrame")
local function showToast(text)
    local toast = toastTemplate:Clone()
    toast.TextLabel.Text = text
    toast.Parent = gui
    toast.Visible = true
    toast.BackgroundTransparency = 0
    toast.TextLabel.TextTransparency = 0
    TweenService:Create(toast, TweenInfo.new(2), {BackgroundTransparency=1, TextLabel={TextTransparency=1}}):Play()
    delay(2,function() toast:Destroy() end)
end

-- =========================
-- Demo Buttons for Modal/Toast
-- =========================
buttons.DashboardBtn.MouseButton1Click:Connect(function()
    showToast("Welcome to Dashboard!")
end)
buttons.ScriptsBtn.MouseButton1Click:Connect(function()
    showModal("Scripts Tab","This is a demo modal for Scripts tab.")
end)
buttons.ExplorerBtn.MouseButton1Click:Connect(function()
    showToast("Explorer Tab Active!")
end)

-- =========================
-- Optional: Tab entrance animation
-- =========================
for _, tab in pairs(tabs) do
    tab.Position = UDim2.fromScale(1,0) -- offscreen right
    tab.Visible = true
    TweenService:Create(tab, TweenInfo.new(0.5), {Position=UDim2.fromScale(0,0)}):Play()
end
